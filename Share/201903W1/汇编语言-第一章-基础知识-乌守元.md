## 第一章 基础知识

### 1.1 机器语言

机器语言是机器指令的集合，机器指令展开来讲就是一台机器可以正确执行的命令。

![img01](https://bucket-1258741719.cos.ap-beijing.myqcloud.com/汇编语言-第一章-基础知识/1551333617982.png)

由图可见，机器语言是十分晦涩难懂和不易查错的。

### 1.2 汇编语言的产生

汇编语言的主体是汇编指令。汇编语言和机器指令的差别在于指令的表示方法上。汇编指令时机器指令便于记忆的书写格式。

![img02](https://bucket-1258741719.cos.ap-beijing.myqcloud.com/汇编语言-第一章-基础知识/1551333846403.png)

编译器：讲汇编指令转换为机器指令。

![img03](https://bucket-1258741719.cos.ap-beijing.myqcloud.com/汇编语言-第一章-基础知识/1551333910650.png)

### 1.3 汇编语言的组成

汇编语言的三种指令：

1. 汇编指令：机器码的助记符，有对应的机器码。
2. 伪指令：没有对应的机器码，有编译器执行，计算机并不执行。
3. 其他符号：如+、-、*、/ 等，由编译器识别，没有对应的机器码。

汇编语言的核心是汇编指令，它决定了汇编语言的特性。

### 1.4 存储器

CPU(Central Processing Unit) 是计算机的核心部件，它控制计算机的运作并进行运算。要想让一个 CPU 工作，必须向它提供指令和数据。指令和数据在存储器种存放，也就是常说的内存。

### 1.5 指令和数据

指令和数据是应用上的概念。在内存或磁盘上，指令和数据没有任何区别，都是二进制信息。

### 1.6 存储单元

存储器被划分成若干存储单元，每个存储单元从 0 开始顺序编号，例如一个存储器有 128 个存储单元，编号 0~127，如图。

![img04](https://bucket-1258741719.cos.ap-beijing.myqcloud.com/汇编语言-第一章-基础知识/1551334361503.png)

微型存储器的存储单元可以存储一个 Byte，即 8 个二进制位（8 bit）。一个存储器有 128 个存储单元，即 128 个 Byte。

![img05](https://bucket-1258741719.cos.ap-beijing.myqcloud.com/汇编语言-第一章-基础知识/1551334635952.png)

### 1.7 CPU 对存储器的读写

CPU 要想进行数据的读写，必须和外部器件（芯片）进行 3 类信息的交互：

- 存储单元的地址（地址信息）；
- 器件的选择，读或写的命令（控制信息）；
- 读或写的数据（数据信息）。

CPU 通过总线讲这三类信息传到存储器芯片中。

总线：就是一根根导线的集合。根据传送信息的不同，从逻辑上又分为 3 类，地址总线、控制总线和数据总线。

![img06](https://bucket-1258741719.cos.ap-beijing.myqcloud.com/汇编语言-第一章-基础知识/1551334964163.png)

（1）CPU 通过地址线将地址信息 3（*黑条中有 3，可能不清楚*） 发出。

（2）CPU 通过控制线发出内存读命令，选中存储器芯片，并通知它，将要从中读取数据。

（3）存储器将 3 号 单元中的数据 8 通过数据线送入 CPU。

写操作。如何向 3 号单元写入数据 26。

（1）CPU 通过地址线将地址信息 3 发出。

（2）CPU 通过控制线发出内存写命令，选中存储器芯片，并通知它，要向其中写入数据。

（3）CPU 通过数据线将数据 26 送入内存的 3 号单元中。

![img07](https://bucket-1258741719.cos.ap-beijing.myqcloud.com/汇编语言-第一章-基础知识/1551335739690.png)

### 1.8 地址总线

CPU 是通过地址线来之定存储器单元的。

在电子计算机中，一根导线可以传送的稳定状态只有两种，高电平或是低电平。用二进制表示就是 0 或 1，10 根导线可以传送 10 位二进制数据。而 10 位二进制数可以表示 2^10^ 个数据，最小数为 0，最大数为 1023。

下图展示了一个具有 10 根地址线的 CPU 向内存发出地址信息 11 时 10 根地址线上传送的二进制信息。

![img08](https://bucket-1258741719.cos.ap-beijing.myqcloud.com/汇编语言-第一章-基础知识/1551336021380.png)

一个 CPU 有 N 根地址线，则可以说这个 CPU 的地址总线的宽度为 N。这样的 CPU 最多可以寻找 2^N^ 个内存单元。

### 1.9 数据总线

CPU 与内存或其他器件之间的数据传送是通过数据总线来进行的。数据总线的宽度决定了 CPU 和外界的数据传送速度。8 根数据总线依次可传送一个 8 位二进制数据（1 Byte）。

![img09](https://bucket-1258741719.cos.ap-beijing.myqcloud.com/汇编语言-第一章-基础知识/1551336275271.png)

![img10](https://bucket-1258741719.cos.ap-beijing.myqcloud.com/汇编语言-第一章-基础知识/1551336294046.png)

### 1.10 控制总线

CPU 对外部器件的控制是通过控制总线来进行的。控制总线是个总称，它是一些不同控制线的集合。有多少根控制线，就意味着 CPU 提供了对外部器件的多少种控制。所以，控制总线的宽度决定了 CPU 对外部器件的控制能力。

内存的读或写命令就是由几根控制线综合发出的。CPU 向一根称为“读信号输出”的控制线上输出低电平表示将要读取数据；当然还有一根传送写信号的“写信号输出”。

![img11](https://bucket-1258741719.cos.ap-beijing.myqcloud.com/汇编语言-第一章-基础知识/1551336693558.png)

![img12](https://bucket-1258741719.cos.ap-beijing.myqcloud.com/汇编语言-第一章-基础知识/1551336726359.png)

![img13](https://bucket-1258741719.cos.ap-beijing.myqcloud.com/汇编语言-第一章-基础知识/1551336786526.png)

(1) 13。 
分析：设地址总线宽度为n，2^n^ B=8KB，n=13。 
(2) 1024；0；1023。 
分析：1KB=2^10^B=1024B；存储单元编号从0开始，所以是0到1023。 
(3) 8192；1024。 
分析：1KB=1024B=1024*8b=8192b。 
(4) 2^30^；2^20^；2^10^。 
分析：1GB=2^30^B、1MB=2^20^B、1KB=2^10^B。 
(5) 64；1；16；4。 
分析：8080的寻址能力为2^16^B=64KB、8088的寻址能力为2^20^B=1MB、80286的寻址能力为2^24^B=16MB、80386的寻址能力为2^32^B=4GB 
(6) 1；1；2；2；4。
分析：8080一次可传送的数据为8/8=1B、8088一次可传送的数据为8/8=1B、8086一次可传送的数据为16/8=2B、80286一次可传送的数据为16/8=2B、80386一次可传送的数据为32/8=4B 
(7) 512；256。 
分析：8086数据总线宽度为16，一次可以传递2个字节，所以1024个字节，至少要读1024/2=512次；80386数据总线宽度为32，一次可传送4个字节，1024个字节，至少要读1024/4=256次。 
(8) 二进制。 

### 1.11 内存地址空间（概述）

举例，一个 CPU 的地址总线宽度为 10，那么可以寻址 1024 个内存单元，这 1024 个可寻到的内存单元就构成这个 CPU 的内存地址空间。

### 1.12 主板

每个 PC 机都有一个主板。主板上有核心器件和一些主要器件。

### 1.13 接口卡

CPU 对外部设备不能直接控制，如显示器、音箱、打印机等。直接控制这些设备进行工作的是插在扩展卡槽上的接口卡。扩展卡槽通过总线和 CPU 相连，所以接口卡也通过总线同 CPU相连。CPU 可以直接控制这额接口卡，从而间接控制外设。CPU 通过总线向接口卡发送命令，接口卡根据 CPU 的命令控制外设进行工作。

### 1.14 各类存储器芯片

从读写属性上分为两类：随机存储器（RAM）和只读存储器（ROM）。

- RAM：可读可写，必须带电存储，关机后内容丢失；

- ROM：只能读取不能写入，关机后内容不丢失。

存储器从功能和连接上又分为：

![img14](https://bucket-1258741719.cos.ap-beijing.myqcloud.com/汇编语言-第一章-基础知识/1551338085797.png)

### 1.15 内存地址空间

上述存储器在物理上都是独立的，但在一下两点上相同。

- 都和 CPU 的总线相连。
- CPU 对它们进行读或写的时候都通过控制线发出内存读写命令。

CPU 操控它们时，把它们当作内存来来对待，总的看作一个由若干存储单元组成的逻辑存储器，即内存空间地址。

![img15](https://bucket-1258741719.cos.ap-beijing.myqcloud.com/汇编语言-第一章-基础知识/1551338346432.png)

不同的计算机系统的内存地址空间的分配情况是不同的，下图展示 8086PC 机内存地址空间分配的基本情况。

![img16](https://bucket-1258741719.cos.ap-beijing.myqcloud.com/汇编语言-第一章-基础知识/1551338506405.png)